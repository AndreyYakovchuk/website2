<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Турнір CS2 - Сітка (16 команд)</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="hero">
        <div class="container">
            <div class="uni-support">За підтримки Херсонського державного університету</div>
            <h1>CS2 LEGACY CUP</h1>
            <p>Призовий фонд: --- | Реєстрація відкрита!</p>
        </div>
    </header>

    <nav class="navbar">
        <div class="container">
            <ul>
                <li><a href="index.html">Про Турнір</a></li>
                <li><a href="teams.html">Команди</a></li>
                <li><a href="rules.html">Правила</a></li>
                <li><a href="schedule.html" class="active">Сітка / Розклад</a></li>
                <li><a href="leaderboard.html">ТАБЛИЦЯ</a></li>
                <li><a href="register.html" class="btn-register">РЕЄСТРАЦІЯ</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section id="schedule" class="section">
            <h2 style="text-align: center; margin-bottom: 40px;">ТУРНІРНА СІТКА (16 КОМАНД)</h2>
            
            <div class="bracket-scroll">
                <div id="bracketRoot" class="bracket-container">
                    </div>
            </div>

        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 CS2 LEGACY CUP. За підтримки Херсонського державного університету. Всі права захищені.</p>
        </div>
    </footer>

    <script>
        // === ДАНІ ТУРНІРУ (1/8 ФІНАЛУ) ===
        // Всього 8 матчів. Змінюйте команди та рахунок тут.
        // null - матч ще не зіграно.
        
        const roundOf16 = [
            // Група A (Ліва сторона)
            { t1: "123", s1: 13, t2: "321", s2: 2 },   // Матч 1
            { t1: "null", s1: null, t2: "null", s2: null }, // Матч 2
            { t1: "null", s1: null, t2: "null", s2: null },    // Матч 3
            { t1: "null", s1: null, t2: "null", s2: null },  // Матч 4
            
            // Група B (Права сторона)
            { t1: "null", s1: null, t2: "null", s2: null },       // Матч 5
            { t1: "null", s1: null, t2: "null", s2: null },// Матч 6
            { t1: "null", s1: null, t2: "null", s2: null },     // Матч 7
            { t1: "null", s1: null, t2: "null", s2: null }           // Матч 8
        ];

        // --- ЛОГІКА ГЕНЕРАЦІЇ (АВТОМАТИЧНА) ---
        function renderBracket() {
            const root = document.getElementById('bracketRoot');
            
            // 1. Розраховуємо 1/4 (Переможці 1/8)
            const quarterFinals = calculateNextRound(roundOf16);

            // 2. Розраховуємо 1/2 (Переможці 1/4)
            const semiFinals = calculateNextRound(quarterFinals);

            // 3. Розраховуємо Фінал (Переможці 1/2)
            const finals = calculateNextRound(semiFinals);

            // 4. Визначаємо Чемпіона
            const champion = getWinner(finals[0]);

            // --- МАЛЮЄМО HTML ---
            let html = '';

            // Колонка 1: 1/8 Фіналу
            html += `<div class="round round-1"><h3 class="round-header">1/8 ФІНАЛУ</h3>`;
            roundOf16.forEach(m => html += createMatchHTML(m));
            html += `</div>`;

            // Колонка 2: 1/4 Фіналу
            html += `<div class="round round-2"><h3 class="round-header">1/4 ФІНАЛУ</h3>`;
            quarterFinals.forEach(m => html += createMatchHTML(m));
            html += `</div>`;

            // Колонка 3: Півфінал
            html += `<div class="round round-3"><h3 class="round-header">ПІВФІНАЛ</h3>`;
            semiFinals.forEach(m => html += createMatchHTML(m));
            html += `</div>`;

            // Колонка 4: Фінал
            html += `<div class="round round-4"><h3 class="round-header">ФІНАЛ</h3>`;
            finals.forEach(m => html += createMatchHTML(m, true));
            html += `</div>`;

            // Колонка 5: Чемпіон
            html += `<div class="round round-5"><h3 class="round-header">ЧЕМПІОН</h3>`;
            html += `
                <div class="champion-box">
                    <i class="fa-solid fa-trophy"></i>
                    <span>${champion !== "TBA" ? champion : "?"}</span>
                </div>`;
            html += `</div>`;

            root.innerHTML = html;
        }

        // Функція для створення пар наступного раунду
        function calculateNextRound(currentRound) {
            const nextRound = [];
            for (let i = 0; i < currentRound.length; i += 2) {
                const match1 = currentRound[i];
                const match2 = currentRound[i+1]; // Беремо сусідній матч
                
                // Якщо матчів непарна кількість (помилка), перериваємо
                if (!match2) break;

                const winner1 = getWinner(match1);
                const winner2 = getWinner(match2);

                nextRound.push({ t1: winner1, s1: null, t2: winner2, s2: null });
            }
            return nextRound;
        }

        // Функція визначення переможця
        function getWinner(match) {
            if (match.s1 === null || match.s2 === null) return "TBA";
            // Якщо рахунок є, перевіряємо хто виграв
            if (match.s1 > match.s2) return match.t1;
            return match.t2;
        }

        // Генерація HTML однієї картки
        function createMatchHTML(m, isFinal = false) {
            let c1 = '', c2 = '';
            
            if (m.s1 !== null && m.s2 !== null) {
                if (m.s1 > m.s2) { c1 = 'winner'; c2 = 'loser'; }
                else { c1 = 'loser'; c2 = 'winner'; }
            }

            let score1 = m.s1 !== null ? m.s1 : '-';
            let score2 = m.s2 !== null ? m.s2 : '-';
            let finalClass = isFinal ? 'final-match' : '';

            // Якщо команди ще не визначені (TBA), робимо їх сірими
            let t1Style = m.t1 === "TBA" ? 'color: #555;' : '';
            let t2Style = m.t2 === "TBA" ? 'color: #555;' : '';

            return `
                <div class="match-pair">
                    <div class="match-card ${finalClass}">
                        <div class="team ${c1}" style="${t1Style}"><span>${m.t1}</span><span class="score">${score1}</span></div>
                        <div class="team ${c2}" style="${t2Style}"><span>${m.t2}</span><span class="score">${score2}</span></div>
                    </div>
                </div>
            `;
        }

        // Запуск
        renderBracket();
    </script>
</body>
</html>


